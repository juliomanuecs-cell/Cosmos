
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Livier ‚ù§Ô∏è</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #fce4ec;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            margin: 0;
            color: #4a4a4a;
        }

        .carta-container {
            background-color: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 650px;
            text-align: left;
            margin-bottom: 40px;
            border: 1px solid #f8bbd0;
        }

        h1 { 
            color: #d81b60; 
            text-align: center;
            font-size: 2.2em;
            margin-bottom: 25px;
        }

        p { line-height: 1.8; font-size: 1.1em; margin-bottom: 20px; }
        .highlight { color: #ad1457; font-weight: bold; }
        .tpi-style { color: #000; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }

        /* Estilos del Juego */
        .game-section {
            text-align: center;
            position: relative;
        }

        #game-board {
            border: 8px solid #f06292;
            background-color: #1a1a1a;
            border-radius: 10px;
            box-shadow: 0 0 25px rgba(240, 98, 146, 0.4);
            display: block;
        }

        .score {
            font-size: 28px;
            font-weight: bold;
            color: #d81b60;
            margin-bottom: 15px;
        }

        #start-btn {
            margin-top: 15px;
            padding: 15px 30px;
            font-size: 1.2em;
            background-color: #d81b60;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 4px 15px rgba(216, 27, 96, 0.3);
        }

        #start-btn:hover { background-color: #ad1457; transform: scale(1.05); }
        #start-btn:disabled { display: none; }

        .footer-note { margin-top: 15px; font-style: italic; color: #888; }
    </style>
</head>
<body>

    <div class="carta-container">
        <h1>Para mi estrella favorita, Livier ‚ù§Ô∏è</h1>
        
        <p>Livier, quer√≠a escribirte algo que uniera las cosas que m√°s me apasionan contigo, porque al final del d√≠a, t√∫ eres lo que le da sentido a todo lo que estudio y hago.</p>
        
        <p>Si tuviera que explicar mi amor por ti en t√©rminos de <span class="highlight">astronom√≠a</span>, dir√≠a que eres mi <b>punto de singularidad</b>: ese lugar donde todas las leyes de mi l√≥gica se rompen y solo importa tu gravedad. Mi amor por ti es como la expansi√≥n del universo: <b>infinito y en constante aceleraci√≥n</b>, creciendo cada segundo sin un horizonte que lo detenga.</p>
        
        <p>En el mundo de la <span class="highlight">programaci√≥n</span>, t√∫ eres el <b>Main()</b> de mi vida. Podr√≠a escribir miles de l√≠neas de c√≥digo, pero sin ti, mi programa no tendr√≠a un prop√≥sito. Eres esa <b>variable global</b> que le da valor a todo mi entorno; si mi coraz√≥n fuera un servidor, tendr√≠a un <b>uptime del 100%</b> dedicado solo a ti.</p>
        
        <p>Y como bien sabemos los dos, a veces la vida se siente como una canci√≥n de <span class="tpi-style">Twenty One Pilots</span>. Quiero que sepas que eres mi <b>"Tear in My Heart"</b>, ese algo que solo yo entiendo pero que me da un prop√≥sito para seguir adelante. Si alguna vez te sientes en la oscuridad, yo ser√© quien se quede contigo para <b>"Stay Alive together"</b>. Eres mi paz en medio de la tormenta y no importa qu√© tan fuerte sea la tormenta, siempre estar√© contigo porque <b>"I'll be holding on to you"</b>.</p>
        
        <p>Gracias por ser mi puerto seguro y mi galaxia entera. Te amo m√°s de lo que cualquier algoritmo podr√≠a calcular.</p>
        
        <p style="text-align: right; font-weight: bold; font-size: 1.2em;">‚Äî Con todo mi amor, Manuel.</p>
    </div>

    <div class="game-section">
        <div class="score">Puntos para Livier: <span id="scoreVal">0</span></div>
        <canvas id="game-board" width="400" height="400"></canvas>
        <button id="start-btn" onclick="startGame()">¬°Empezar a jugar! üéÆ</button>
        <p class="footer-note" id="instr">Lee la carta y presiona el bot√≥n para jugar</p>
    </div>

    <script>
        const canvas = document.getElementById("game-board");
        const ctx = canvas.getContext("2d");
        const scoreElement = document.getElementById("scoreVal");
        const startBtn = document.getElementById("start-btn");

        let score = 0;
        let gridSize = 20;
        let snake = [{x: 160, y: 160}, {x: 140, y: 160}, {x: 120, y: 160}];
        let dx = gridSize;
        let dy = 0;
        let foodX, foodY;
        let gameRunning = false;

        function startGame() {
            if (gameRunning) return;
            gameRunning = true;
            startBtn.disabled = true;
            document.getElementById("instr").innerText = "Usa las flechas del teclado";
            createFood();
            main();
        }

        function main() {
            if (didGameEnd()) {
                alert("¬°Juego terminado! Lograste " + score + " puntos. ¬°Te amo, Livier! - Att: Manuel");
                location.reload();
                return;
            }

            setTimeout(function onTick() {
                clearCanvas();
                drawFood();
                advanceSnake();
                drawSnake();
                main();
            }, 100);
        }

        function clearCanvas() {
            ctx.fillStyle = "#1a1a1a";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }

        function drawSnake() {
            snake.forEach((part, index) => {
                ctx.fillStyle = index === 0 ? "#f06292" : "#f8bbd0";
                ctx.strokeStyle = "white";
                ctx.fillRect(part.x, part.y, gridSize, gridSize);
                ctx.strokeRect(part.x, part.y, gridSize, gridSize);
            });
        }

        function advanceSnake() {
            const head = {x: snake[0].x + dx, y: snake[0].y + dy};
            snake.unshift(head);
            const didEatFood = snake[0].x === foodX && snake[0].y === foodY;
            if (didEatFood) {
                score += 10;
                scoreElement.innerHTML = score;
                createFood();
            } else {
                snake.pop();
            }
        }

        function didGameEnd() {
            for (let i = 4; i < snake.length; i++) {
                if (snake[i].x === snake[0].x && snake[i].y === snake[0].y) return true;
            }
            return snake[0].x < 0 || snake[0].x > canvas.width - gridSize || 
                   snake[0].y < 0 || snake[0].y > canvas.height - gridSize;
        }

        function createFood() {
            foodX = Math.round((Math.random() * (canvas.width - gridSize)) / gridSize) * gridSize;
            foodY = Math.round((Math.random() * (canvas.height - gridSize)) / gridSize) * gridSize;
        }

        function drawFood() {
            ctx.fillStyle = "#ff1744";
            ctx.font = "20px Arial";
            ctx.fillText("‚ù§Ô∏è", foodX, foodY + 18);
        }

        document.addEventListener("keydown", (e) => {
            if (!gameRunning) return;
            const keyPressed = e.keyCode;
            if (keyPressed === 37 && dx === 0) { dx = -gridSize; dy = 0; }
            if (keyPressed === 38 && dy === 0) { dx = 0; dy = -gridSize; }
            if (keyPressed === 39 && dx === 0) { dx = gridSize; dy = 0; }
            if (keyPressed === 40 && dy === 0) { dx = 0; dy = gridSize; }
        });
    </script>
</body>
</html>